@startuml flow1_import_repos_use_case
!theme plain
left to right direction

actor "Developer" as dev
actor "System\n(Backend)" as system

rectangle "Risk Dashboard System" {
  usecase "Search GitHub Repos" as UC1
  usecase "Select Repositories" as UC2
  usecase "Configure Import Settings" as UC3
  usecase "Import Repositories" as UC4
  usecase "Clone Repository" as UC5
  usecase "Fetch Builds from CI" as UC6
  usecase "Extract Features" as UC7
  usecase "View Import Progress" as UC8
  usecase "View Build Metrics" as UC9
}

dev --> UC1
UC1 --> UC2
UC2 --> UC3
UC3 --> UC4
UC4 --> UC5
UC5 --> UC6
UC6 --> UC7
UC7 --> UC8
UC7 --> UC9

system -left-> UC5
system -left-> UC6
system -left-> UC7

note right of UC1
  Search public and private repos
  on GitHub using GitHub API
end note

note right of UC2
  Multi-select repositories
  from search results
end note

note right of UC3
  Configure:
  - Test frameworks
  - Source languages
  - CI provider
  - Build limits
end note

note right of UC5
  Async task:
  Clone/update git repository
  to local storage
end note

note right of UC6
  Async task:
  Fetch build artifacts
  from CI (GitHub Actions, etc)
end note

note right of UC7
  Async task:
  Extract features using
  Hamilton DAG pipeline
end note

note bottom of UC8
  Real-time progress updates
  via WebSocket
end note

@enduml
