@startuml
'===============================================================
' UC-05: VIEW / EXPORT DATASETS (Admin full; Guest read-only)
'===============================================================

skinparam actorStyle stick
skinparam usecase {
    BorderColor #333333
    BackgroundColor #FFFFCC
}

left to right direction

' =============== ACTORS ===============
actor "Admin" as Admin
actor "Guest\n(Read-only)" as Guest
actor "Scan Tools\n(SonarQube/Trivy)" as ScanTools

' =============== SYSTEM BOUNDARY ===============
rectangle {
    usecase "Browse Datasets" as UC_Browse
    usecase "Search / Filter\nDatasets" as UC_Filter
    usecase "View Dataset\nDetails" as UC_Details
    usecase "View Dataset\nVersions" as UC_Versions
    usecase "Download /\nExport Version" as UC_Download
    usecase "View Version\nMetadata" as UC_Metadata
    usecase "View Scan\nResults" as UC_ScanResults
}

' =============== ASSOCIATIONS ===============
Guest --> UC_Browse
Guest --> UC_Filter
Admin --> UC_Browse
Admin --> UC_Filter
Admin --> UC_Download
Admin --> UC_ScanResults
Guest --> UC_ScanResults

UC_Browse ..> UC_Filter : <<extend>>
UC_Browse ..> UC_Details : <<include>>
UC_Details ..> UC_Versions : <<include>>
UC_Versions ..> UC_Metadata : <<include>>
UC_Versions ..> UC_Download : <<include>>
UC_Versions ..> UC_ScanResults : <<include>>
UC_ScanResults --> ScanTools

@enduml
