# =============================================================================
# Production Environment Configuration
# Copy this to .env on your production server
# =============================================================================

# =============================================
# Domain & SSL
# =============================================
# Optional: not used by HTTP-only nginx.conf
DOMAIN_NAME=your-domain-or-ip

# =============================================
# Database
# =============================================
MONGODB_DB_NAME=buildguard

# =============================================
# RabbitMQ
# =============================================
RABBITMQ_USER=myuser
RABBITMQ_PASS=change-me-strong-password

# =============================================
# Security (REQUIRED - Generate strong secrets!)
# =============================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-change-in-production
NEXTAUTH_SECRET=your-nextauth-secret-change-in-production

# =============================================
# Application URLs (HTTP-only)
# =============================================
NEXT_PUBLIC_API_URL=http://your-domain-or-ip/api
NEXT_PUBLIC_WS_URL=ws://your-domain-or-ip/api/ws/events
NEXTAUTH_URL=http://your-domain-or-ip

# =============================================
# GitHub App Configuration
# =============================================
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=
GITHUB_INSTALLATION_ID=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_WEBHOOK_SECRET=
# For Trivy vulnerability DB
GITHUB_TOKEN=

# =============================================
# SonarQube Configuration
# =============================================
SONAR_DB_PASSWORD=sonar-strong-password
SONAR_TOKEN=
SONAR_DEFAULT_PROJECT_KEY=build-risk
SONAR_WEBHOOK_SECRET=

# =============================================
# Email (Gmail API)
# =============================================
GMAIL_ENABLED=false
GMAIL_SENDER_EMAIL=
GMAIL_CLIENT_ID=
GMAIL_CLIENT_SECRET=
GMAIL_REFRESH_TOKEN=

# =============================================
# Monitoring
# =============================================
GRAFANA_USER=admin
GRAFANA_PASS=change-me-strong-password
GRAFANA_ROOT_URL=http://your-domain-or-ip/grafana

# =============================================
# Workers
# =============================================
CELERY_CONCURRENCY=4

# =============================================
# GitHub Personal Access Tokens (for rate limiting)
# =============================================
# Comma-separated list of PATs for GitHub API
GITHUB_TOKENS=ghp_token1,ghp_token2

# =============================================
# Frontend Grafana URL
# =============================================
NEXT_PUBLIC_GRAFANA_URL=http://your-domain-or-ip:3001

# =============================================
# Container Permissions (run: id -u && id -g)
# =============================================
APP_UID=1000
APP_GID=1000
